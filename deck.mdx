export { default as theme } from "./src";
import { Appear, Head, Notes, Image } from "mdx-deck";
import { LayoutGradientBg, Layout } from "./src";
import { CodeSurfer } from "mdx-deck-code-surfer";
import nightOwl from "prism-react-renderer/themes/nightOwl";

<Head>
  <title>Spreading the JAM: Getting started with the JAMstack</title>
  <meta
    itemProp="name"
    content="Spreading the JAM: Getting started with the JAMstack"
  />
  <meta
    itemProp="description"
    content="The JAMstack is revolutionizing the way we think about our development workflows. With a single push to git, we can deploy our sites and apps with an expectation that they will perform better, scale with ease, and cost less."
  />
  <link
    rel="shortcut icon"
    type="image/png"
    href="https://www.netlify.com/img/global/favicon/favicon-32x32.png"
  />
</Head>

export default LayoutGradientBg;

# Spreading the JAM

Getting started with the JAMstack<br /> using Gatsby and Netlify Forms

<Notes>
  <p>Lots of buzzwords!</p>
  <p>JAMstack, Gatsby, Netlify... let's break it down.</p>
  <p>But first, a little about me...</p>
</Notes>

---

export default LayoutGradientBg;

# Leslie Cohn-Wein

<small>
  <em>Pronounced CONEüç¶-wineüç∑</em>
</small>

Austin ‚û°Ô∏è Denver ‚û°Ô∏è Australia ‚û°Ô∏è NYC ‚û°Ô∏è Dallas

üíô Accessibility + CSS + SVG + React + Remote Work üíô

Front end engineer at Netlify

Get some stickers!!

@lesliecdubs

<Notes>
  <h2>Agency life</h2>
  <p>Nintendo, Seinfeld, WorldPride, etc</p>
  <p>Where I first started building with the JAMstack</p>
  <hr />
  <h2>Netlify</h2>
  <p>Now work at Netlify (React front end!): new features + bug fixes</p>
  <p>
    Speaking of new features, Netlify Dev released today! "A new development
    server that allows you to run our entire platform right on your laptop."
  </p>
  <p>Get some stickers at the end of the talk</p>
  <p>Follow me on Twitter + GitHub, and Tweet about this talk!</p>
</Notes>

---

export default Layout;

# <span className="highlight">JAM</span>stack

<ul>
  <Appear>
    <li>Javascript</li>
    <li>APIs</li>
    <li>Markup</li>
    <img
      className="image"
      src="https://media.giphy.com/media/tyttpH8Ksf1WB0xouRy/giphy.gif"
    />
  </Appear>
</ul>

<Notes>
  <h2>JAMstack</h2>
  <p>
    <strong>Javascript:</strong> client-side functionality (often via framework,
    e.g. React or Vue)
  </p>
  <p>
    <strong>API (Application Programming Interface):</strong> server-based back
    end that doesn't query your db and then serve back HTML with that content,
    but instead exchanges data with your front end (typically JSON)
  </p>
  <p>
    <strong>Markup:</strong> HTML / presentation layer
  </p>
  <hr />
  <h2>Decoupled web</h2>
  <p>JAMstack === decoupled or headless approach</p>
  <p>"Separation of concerns" for front + back end</p>
  <p>Front end has its own repo (JS + Markup), connects to back end via APIs</p>
  <p>
    Leverage microservices + serverless functions to build more complex +
    dynamic web apps
  </p>
  <p>The name was coined bc "static site" doesn't do it justice</p>
  <hr />
  <h2>The JAMstack is catching on</h2>
  <p>
    JAMstack as a term has been around for 3 or 4 years, though the idea
    predates that
  </p>
  <p>"The first" SSG Jekyll was released in 2008</p>
  <p>Syntax FM: "BYOF - bring your own front end"</p>
  <p>Chris Coyier (CSS Tricks): "The all-powerful front end developer"</p>
</Notes>

---

<Image
  src={require("file-loader!./images/jamstack-workflow-snipcart.png")}
  size="75% auto"
/>

<Notes>
  <p>Graphic courtesy Snipcart</p>
  <hr />
  <h2>Traditional workflow</h2>
  <p>Fetch data at runtime</p>
  <p>
    On page load, database is queried, HTML with db content is generated
    server-side, and then served to the client
  </p>
  <p>
    This tends to make for a slower site, offloading the slowness onto your user
  </p>
  <hr />
  <h2>JAMstack workflow</h2>
  <p>Fetch data at build time</p>
  <p>Developer eats that server "slowness" in the build step</p>
  <p>Lucky for us, that build step can be automated</p>
  <p>Delivers a super fast site to your user</p>
</Notes>

---

export default Layout;

# Why <span className="highlight">JAM</span>stack?

<ul>
  <Appear>
    <li>‚ö°Ô∏è Blazing fast performance</li>
    <li>ü§ë Cheaper + easier scaling</li>
    <li>üö® Fewer security risks</li>
    <li>üë©üèª‚Äçüíª Better developer experience</li>
    <li>‚ú® Give front end developers superpowers</li>
  </Appear>
</ul>

<Notes>
  <p>
    <strong>Perf:</strong> Serve pre-built markup and assets over a CDN (Content
    Delivery Network)
  </p>
  <p>
    <strong>Scalability:</strong> Cheaper to host. No server maintenance + sites
    can scale without worry (CDN compensates for more visitors).
  </p>
  <p>
    <strong>Security:</strong> No need to worry about server or db
    vulnerabilities
  </p>
  <p>
    <strong>DX:</strong> Front end focused, allows quicker dev with modern tools
  </p>
  <p>
    <strong>Front end:</strong> Build full-stack apps with only JS knowledge +
    leverage existing microservices for deeper functionality
  </p>
</Notes>

---

export default Layout;

# What the <span className="highlight">JAM</span>stack _isn‚Äôt_

Any project that relies on a tight coupling between client and server:

<ul>
  <Appear>
    <li>A site built with a server-side CMS using a built-in theme</li>
    <img
      className="logo"
      src={require("file-loader!./images/logo-wordpress.png")}
    />
    <img
      className="logo"
      src={require("file-loader!./images/logo-drupal.png")}
    />
    <img
      className="logo"
      src={require("file-loader!./images/logo-joomla.jpg")}
    />
    <img
      className="logo"
      src={require("file-loader!./images/logo-squarespace.png")}
    />
    <li>
      A single page app that uses isomorphic rendering to build views on the
      server at runtime
    </li>
    <li>
      A monolithic server-run web app that relies on Ruby, Node, or another
      backend languages
    </li>
  </Appear>
</ul>

<Notes>
  <p>It's not WordPress, Drupal, Joomla, or Squarespace</p>
  <p>
    (unless you are using a REST API to bring content stored there into a
    decoupled front end)
  </p>
  <hr />
  <h2>When not to use JAMstack</h2>
  <p>Massive site (due to time needed for build step)</p>
  <p>
    If you need hand-written dynamic features like comments, e-commerce, etc,
    and can't use an existing service like Disqus, Stripe, Netlify Forms, etc
  </p>
</Notes>

---

export default Layout;

# <span className="highlight">JAM</span>stack ecosystem

<Appear>
  <h2>‚ÄúStatic site‚Äù generator</h2>
  <p>Jekyll, Next, Hugo, Gatsby, React Static, Vuepress, Middleman...</p>
  <p>
    <a href="http://staticgen.com" target="_blank">
      staticgen.com
    </a>
  </p>
  <h2>Headless CMS</h2>
  <p>
    <strong className="highlight">Open source:</strong> Netlify CMS, Directus,
    Strapi, Ghost, WordPress...
  </p>
  <p>
    <strong className="highlight">Commercial:</strong> Cosmic JS, Sanity,
    Forestry, Prismic, Contentful, DatoCMS...
  </p>
  <a href="http://headlesscms.org" target="_blank">
    headlesscms.org
  </a>
</Appear>

<Notes>
  <h2>Static site generator</h2>
  <p>Can be Javascript-based, but doesn't have to be</p>
  <p>
    Some use super modern tech like GraphQL, CSS in JS, etc, or you can rely on
    a more simplified framework
  </p>
  <hr />
  <h2>Headless CMS</h2>
  <p>CMS = Content Management System</p>
  <p>
    Open source options - you can submit PRs, community-driven, usually a little
    more scrappy
  </p>
  <p>
    Commercial options - many offer free tier but require payment for heavier
    usage, backed by $ and full-time team
  </p>
  <hr />
  <h2>Version control</h2>
  <p>Best practice to use Git nowadays for handling version control</p>
  <p>GitHub, GitLab, Bitbucket</p>
</Notes>

---

<Image
  src="https://cdn-images-1.medium.com/max/1280/1*TdRFV0LAG7TG3US2YJMALA.jpeg"
  size="90% auto"
/>

<Notes>
  <p>You can see how big the ecosystem really is</p>
  <p>
    Lots of tools to choose from, but you'll want some kind of presentation
    layer
  </p>
  <p>If you need dynamic data, you'll want to wire in an API of some kind</p>
  <p>Ideally you're using version control and storing your code in Git</p>
  <p>And hosting on Netlify</p>
</Notes>

---

export default LayoutGradientBg;

# Real world <span className="dark">JAM</span>stack

Portfolio site with a contact form

<ul>
  <li>
    <span className="dark">Static site generator:</span>{" "}
    <strong>
      <a href="https://www.gatsbyjs.org/" target="_blank">
        Gatsby
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Version control:</span>{" "}
    <strong>
      <a
        href="https://github.com/lesliecdubs/netlify-gatsby-form-example"
        target="_blank"
      >
        GitHub
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Host + deploy management:</span>{" "}
    <strong>
      <a href="https://www.netlify.com/" target="_blank">
        Netlify
      </a>
    </strong>
  </li>
</ul>

<Notes>
  <p>
    A traditional form would require a server to store entries in a database
  </p>
  <p>But the JAMstack offers a better and easier way</p>
  <p>First, let's dive briefly into what Gatsby and Netlify are</p>
</Notes>

---

export default Layout;

# Why Gatsby?

A ‚Äústatic site generator‚Äù based on React

<ul>
  <Appear>
    <li>üõ† Build your site in React</li>
    <li>üìÇ GraphQL data layer</li>
    <li>üîå Rich plugin ecosystem</li>
    <li>üìñ Good documentation + starters</li>
    <li>‚ö°Ô∏è Emphasis on performance + accessibility</li>
  </Appear>
</ul>

<Notes>
  <p>
    I chose Gatsby for tonight's demo mostly bc this is a REACT meetup, but we
    could have used any static site generator for this example
  </p>
  <p>
    At build time, Gatsby creates an internal GraphQL server of all your data
    (wherever it may be stored - Markdown, JSON, a CMS, third party API, etc)
  </p>
  <p>
    All your data is queried at build time from your React components in a
    consistent way
  </p>
  <p>Gatsby ecosystem is rich</p>
  <p>Data source plugins provide for an easy connection to your CMS API</p>
  <p>
    Let's start by installing the Gatsby CLI tools and set up a new Gatsby site
  </p>
</Notes>

---

export default Layout;

# Why Netlify?

A ‚Äústatic site‚Äù hosting provider leveraging all the benefits of the JAMstack, plus:

<ul>
  <Appear>
    <li>‚úÖ Automated builds</li>
    <li>üòÖ Atomic deploys with one-click rollback</li>
    <li>üåê Custom domains</li>
    <li>üîí Automatic HTTPS</li>
    <li>‚öôÔ∏è Simple setup</li>
    <li>üÜì Free starter team</li>
  </Appear>
</ul>

<Notes>
  <h2>Automated builds</h2>
  <p>Automated builds with continous deployment from Git provider</p>
  <p>
    Hook a Netlify site up to a Git repo to get Deploy Previews + Branch Deploys
    to share work in progress URLs
  </p>
  <p>Configure Netlify to build + deploy every time you push or merge</p>
  <p>
    Set up webhooks to trigger deploy based on an action elsewhere (e.g.,
    content update in Contentful)
  </p>
  <hr />
  <h2>Atomic deploys</h2>
  <p>Atomic deploy = versioning your content by fingerprinting</p>
  <p>Instead of pushing individual files (FTP), Netlify creates new deploy</p>
  <p>
    Compares new deploy with your existing deploy and determines what files have
    changed
  </p>
  <p>
    Allows for one-click rollback - so you can make an older deploy live
    instantly
  </p>
  <hr />
  <h2>Custom domains</h2>
  <p>Sites come with their own customizable *.netlify.com URL</p>
  <p>Or buy a custom domain through Netlify or another domain provider</p>
  <p>Easily set it up to point to your Netlify site</p>
  <hr />
  <h2>Automatic HTTPs</h2>
  <p>Free HTTPS comes with all sites for security, SEO +content integrity</p>
  <hr />
  <p>Simple setup</p>
  <p>
    Free team, with flexible pricing tiers and add-ons if you need more team
    members, bandwidth, guaranteed support, etc
  </p>
</Notes>

---

export default LayoutGradientBg;

# Real world <span className="dark">JAM</span>stack

Portfolio site with a contact form

<ul>
  <li>
    <span className="dark">Static site generator:</span>{" "}
    <strong>
      <a href="https://www.gatsbyjs.org/" target="_blank">
        Gatsby
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Version control:</span>{" "}
    <strong>
      <a
        href="https://github.com/lesliecdubs/netlify-gatsby-form-example"
        target="_blank"
      >
        GitHub
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Host + deploy management:</span>{" "}
    <strong>
      <a href="https://www.netlify.com/" target="_blank">
        Netlify
      </a>
    </strong>
  </li>
</ul>

<Notes>
  <p>Quick review of what we're going to build</p>
  <p>
    Portfolio site built with Gatsby with a contact form that is managed by
    Netlify Forms
  </p>
</Notes>

---

<CodeSurfer
  theme={nightOwl}
  code={`
// install Gatsby CLI globally if you don't already have it
npm install -g gatsby-cli
\n
// create a new site using forty starter called portfolio
gatsby new portfolio https://github.com/codebushi/gatsby-starter-forty
\n
// change directories into new site
cd portfolio
\n
// start dev server
gatsby develop
`}
/>

<Notes>
  <p>
    Let's install the Gatsby command line tools and get a Gatsby site set up
  </p>
  <p>Once we have the site set up, we'll want to hook it up to a GitHub repo</p>
  <p>
    This will allow for continous deployment -> meaning when we push our code,
    the site will automatically build and deploy
  </p>
</Notes>

---

<CodeSurfer
  theme={nightOwl}
  code={`
// initialize this directory as a git repo
git init
\n
// add the files in the local repository and stage them for commit
git add .
\n
// commits the tracked changes
git commit -m "First commit"
\n
// go set up a GitHub repo
// then grab the repo URL
git remote add origin remote REPOSITORY-URL-GOES-HERE
\n
// verify new remote URL
git remote -v
\n
// push the master branch to your new origin repo
git push -u origin master
`}
/>

<Notes>
  <p>Now we have a Gatsby site using the Forty starter</p>
  <p>That site is hooked up to a new GitHub repo</p>
  <p>
    The last step is to deploy (or host) this site on the web so we can set up
    and test our form
  </p>
</Notes>

---

export default LayoutGradientBg;

# Deploy your site to Netlify

<ol>
  <li>
    Sign up or sign in:{" "}
    <a href="https://app.netlify.com/signup" target="_blank">
      https://app.netlify.com/signup
    </a>
  </li>
  <li>Click "New site from Git"</li>
  <li>Connect to GitHub</li>
  <li>Select your repo</li>
  <li>Set your site + build settings</li>
  <li>Deploy your site!</li>
</ol>

---

export default LayoutGradientBg;

# Set up your form

More details on form handling in React apps on the <a href="https://www.netlify.com/blog/2017/07/20/how-to-integrate-netlifys-form-handling-in-a-react-app/" target="_blank">Netlify Blog ></a>

<ol>
  <li>Open `Contact.js` in your favorite IDE</li>
  <li>
    Find the form element (or, if you're not using the starter, mark up a custom
    form)
  </li>
  <li>Add a name attribute to your form: `name="contact"`</li>
  <li>Hook it up to Netlify: `data-netlify="true"`</li>
  <li>To help avoid spam, add: `data-netlify-honeypot="bot-field"`</li>
  <li>
    Add a honeypot field: `input type="hidden" name="form-name" value="contact"`
  </li>
  <li>Commit and push</li>
</ol>

<Notes>
  <p>Now we're ready to set up our form to work with Netlify Forms</p>
  <p>
    All this requires when using a Gatsby site are the addition of two data
    attributes to the form element
  </p>
  <p>
    And the addition of a hidden honeypot field to help Netlify capture spam
    submissions for you
  </p>
</Notes>

---

<CodeSurfer
  theme={nightOwl}
  lang="html"
  code={`
    <form 
      method="post"
      name="contact"
      data-netlify="true"
      data-netlify-honeypot="bot-field"
    >
      <input type="hidden" name="contact" value="contact" />
      <div className="field half first">
        <label htmlFor="name">Name</label>
        <input type="text" name="name" id="name" />
      </div>
      ...
    </form>
  `}
  dark={false}
  showNumbers={false}
  steps={[
    { notes: "Open `Contact.js` in your favorite IDE" },
    { range: [2, 3], notes: "Find the <form> element" },
    { lines: [4], notes: "Add a name to differentiate this form" },
    { lines: [5], notes: "Hook this form up to Netlify Forms" },
    {
      lines: [6],
      notes: "Let Netlify help filter spam without showing captcha to users"
    },
    {
      lines: [8],
      notes: "Add hidden input field with the form name"
    }
  ]}
/>

<Notes>
  <p>If you‚Äôre using a static site generator like Gatsby or React-Static, or tools like react-snapshot that generate a static snapshot of your site, the build tool will generate the static HTML form automatically for you.</p>
  <p>That means we can add the Netlify attributes directly to our JSX form.</p>
  <p>Gatsby strips out input fields that are not included in the JSX form, so you will still need to add a hidden input field with the form name.</p>
</Notes>

---

export default Layout;

# Manage + notify

Submit an entry:<br/>
<a href="https://netlify-gatsby-form-example.netlify.com/" target="_blank">https://netlify-gatsby-form-example.netlify.com/</a>

<ul>
  <li>Visit the Forms dashboard to check entries</li>
  <li>
    Set up a{" "}
    <a
      href="https://zapier.com/app/editor/55819025/nodes/55819025/action"
      target="_blank"
    >
      Zapier integration
    </a>{" "}
    to receive form entry notifications
  </li>
</ul>

<Notes>
  <p>
    Now we can go test our form on our Netlify site by visiting
    https://netlify-gatsby-form-example.netlify.com/
  </p>
  <p>Fill out the form if you want</p>
  <p>
    Now we can visit our Netlify dashboard, click Forms, and see and manage the
    entries
  </p>
  <p>Netlify is essentially acting as our database to hold the form entries</p>
  <p>
    To add even more functionality, we can set up email notifications for when a
    user submits your form
  </p>
</Notes>
