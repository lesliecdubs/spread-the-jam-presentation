export { default as theme } from "./src";
import { Appear, Head, Notes, Image } from "mdx-deck";
import { LayoutBlank, LayoutDark, LayoutGradientBg, Layout } from "./src";
import { CodeSurfer } from "mdx-deck-code-surfer";
import nightOwl from "prism-react-renderer/themes/nightOwl";

<Head>
  <title>Spreading the JAM: Getting started with the JAMstack</title>
  <meta
    itemProp="name"
    content="Spreading the JAM: Getting started with the JAMstack"
  />
  <meta
    itemProp="description"
    content="The JAMstack is revolutionizing the way we think about our development workflows. With a single push to git, we can deploy our sites and apps with an expectation that they will perform better, scale with ease, and cost less."
  />
  <link
    rel="shortcut icon"
    type="image/png"
    href="https://www.netlify.com/img/global/favicon/favicon-32x32.png"
  />
</Head>

export default LayoutGradientBg;

# Spreading the JAM

Getting started with the JAMstack<br /> using Gatsby and Netlify Forms

<Notes>
  <p>So excited to be here with you (remotely) today!</p>
  <p>Over the next half hour, we'll look at getting started with the JAMstack and how you can set up a static site that collects form responses - without any server side code - using Gatsby and Netlify Forms.</p>
  <p>Whoa, that's a lot of buzzwords!</p>
  <p>Some of them may sound familiar, especially if you were at Sarah Drasner's workshop yesterday. I hope this talk will be a useful refresher.</p>
  <p>But before we dig in, a little about me...</p>
</Notes>

---

export default LayoutGradientBg;

# Leslie Cohn-Wein

<small>
  <em>Pronounced CONEüç¶-wineüç∑</em>
</small>

Austin ‚û°Ô∏è Denver ‚û°Ô∏è Australia ‚û°Ô∏è NYC ‚û°Ô∏è Dallas

üíô Accessibility + CSS + React + Remote Work üíô

Front end engineer at Netlify

@lesliecdubs

<Notes>
  <h2>Intro + Netlify</h2>
  <p>My name is LCW</p>
  <p>I work remotely from Dallas as a FE engineer at Netlify</p>
  <p>Netlify is a platform that helps you build fast, modern websites on the JAMstack, and then helps you host them</p>
  <p>I work on the front end of the React app that powers Netlify</p>
  <p>We deploy Netlify on Netlify</p>
  <hr />
  <h2>Agency life</h2>
  <p>Started my dev career in NYC, working at digital agencies</p>
  <p>Nintendo, Seinfeld, WorldPride, etc</p>
  <p>Agency world is where I first learned about the JAMstack</p>
  <p>As a FE dev, JAMstack gave me superpowers - from setting up a CMS service to deployment</p>
  <hr />
  <p>Handle is @lesliecdubs, find me on Twitter + GitHub</p>
</Notes>

---

export default Layout;

# <span className="highlight">JAM</span>stack

<ul>
  <Appear>
    <li>Javascript</li>
    <li>APIs</li>
    <li>Markup</li>
    <img
      className="image"
      src="https://media.giphy.com/media/tyttpH8Ksf1WB0xouRy/giphy.gif"
    />
  </Appear>
</ul>

<Notes>
  <h2>JAMstack</h2>
  <p>
    <strong>Javascript:</strong> client-side functionality (often via framework,
    e.g. React or Vue, or vanilla JS / jQuery)
  </p>
  <p>
    <strong>API (Application Programming Interface):</strong> server-based back
    end doesn't query your db and serve back HTML with that content,
    but instead exchanges data with your front end (typically JSON)
  </p>
  <p>
    <strong>Markup:</strong> HTML / presentation layer
  </p>
  <hr />
  <h2>Decoupled web</h2>
  <p>JAMstack === decoupled or headless approach</p>
  <p>"Separation of concerns" for front + back end</p>
  <p>Front end has its own repo (JS + Markup), connects to back end via APIs</p>
  <p>
    Leverage microservices + serverless functions to build more complex +
    dynamic web apps
  </p>
  <p>The name was coined bc "static site" doesn't do it justice</p>
  <hr />
  <h2>The JAMstack is catching on</h2>
  <p>
    JAMstack as a term has been around for 3 or 4 years, though the idea
    predates that
  </p>
  <p>Syntax FM: "BYOF - bring your own front end"</p>
  <p>Chris Coyier (CSS Tricks): "The all-powerful front end developer"</p>
</Notes>

---

export default LayoutBlank;

<img
  className="split"
  src={require("file-loader!./images/jamstack-workflow-snipcart-1.jpg")}
/>

<Appear>
  <img
    className="split"
    src={require("file-loader!./images/jamstack-workflow-snipcart-2.jpg")}
  />
</Appear>

<p><small>Graphics courtesy Snipcart</small></p>

<Notes>
  <h2>Traditional workflow</h2>
  <p>Fetch data at runtime</p>
  <p>When the page loads in the browser, the request eventually needs to get sent to a database server</p>
  <p>Once we get the datat we need, the db server will send the site back through a web server where an HTML page with our dynamic data will get assembled</p>
  <p>Finally, that page will get served to the client (browser)</p>
  <p>There are often additional steps to this process: CDN layer to help with caching, load balancer to help distribute traffic to the right servers</p> 
  <p>This tends to make for a slower site, offloads the slowness onto your user</p>
  <p>There are also multiple possible points of failure</p>
  <hr />
  <h2>JAMstack workflow</h2>
  <p>In JAMstack or a static site, we fetch data at build time</p>
  <p>Data - or content - may live in a headless CMS, or in markdown files in the repo</p>
  <p>Developer eats that server "slowness" in the build step</p>
  <p>Lucky for us, that build step can be automated</p>
  <p>When the page loads in the borwser, the request goes directly to a CDN that has a pre-rendered view of that site</p>
  <p>Which gets delievered back to the client</p>
  <p>Delivers a super fast site to your user</p>
</Notes>

---

export default Layout;

# Why <span className="highlight">JAM</span>stack?

<ul>
  <Appear>
    <li>‚ö°Ô∏è Blazing fast performance</li>
    <li>ü§ë Cheaper + easier scaling</li>
    <li>üö® Fewer security risks</li>
    <li>üë©üèª‚Äçüíª Better developer experience</li>
    <li>‚ú® Give front end developers superpowers</li>
  </Appear>
</ul>

<Notes>
  <p>
    <strong>Perf:</strong> Serve pre-built markup and assets over a CDN (Content
    Delivery Network)
  </p>
  <p>
    <strong>Scalability:</strong> Cheaper to host. No server maintenance + sites
    can scale without worry (CDN compensates for more visitors).
  </p>
  <p>
    <strong>Security:</strong> No need to worry about server or db
    vulnerabilities
  </p>
  <p>
    <strong>DX:</strong> Front end focused, allows quicker dev with modern tools
  </p>
  <p>
    <strong>Front end:</strong> Build full-stack apps with only JS knowledge +
    leverage existing microservices for deeper functionality
  </p>
</Notes>

---

export default Layout;

# What the <span className="highlight">JAM</span>stack _isn‚Äôt_

Tight coupling between client and server:

<ul>
  <Appear>
    <img
      className="logo"
      src={require("file-loader!./images/logo-wordpress.png")}
    />
    <img
      className="logo"
      src={require("file-loader!./images/logo-drupal.png")}
    />
    <img
      className="logo"
      src={require("file-loader!./images/logo-joomla.jpg")}
    />
    <img
      className="logo"
      src={require("file-loader!./images/logo-squarespace.png")}
    />
    <li>server-side rendered SPA</li>
    <li>monolithic server-run web app</li>
  </Appear>
</ul>

<Notes>
  <p>1. A site built with a server-side CMS using a built-in theme</p>
  <p>e.g. WordPress, Drupal, Joomla, or Squarespace</p>
  <p>
    (unless you are using a REST API to bring content stored in one of those places into a
    decoupled front end)
  </p>
  <hr />
  <p>2. A single page app that uses isomorphic rendering to build views on the
      server at runtime</p>
  <hr />
  <p>3. A monolithic server-run web app that relies on Ruby, Node, or another
      backend languages</p>
  <hr />
  <h2>When not to use JAMstack</h2>
  <p>Massive site (due to time needed for build step)</p>
  <p>
    If you need hand-written dynamic features like comments, e-commerce, etc,
    and can't use an existing service like Disqus, Stripe, Netlify Forms, etc
  </p>
</Notes>

---

export default Layout;

# <span className="highlight">JAM</span>stack ecosystem

<Appear>
  <h2>‚ÄúStatic site‚Äù generator</h2>
  <p>Jekyll, Next, Hugo, Gatsby, React Static, Vuepress, Middleman...</p>
  <p>
    <a href="http://staticgen.com" target="_blank">
      staticgen.com
    </a>
  </p>
  <h2>Headless CMS</h2>
  <p>
    <strong className="highlight">Open source:</strong> Netlify CMS, Directus,
    Strapi, Ghost, WordPress...
  </p>
  <p>
    <strong className="highlight">Commercial:</strong> Cosmic JS, Sanity,
    Forestry, Prismic, Contentful, DatoCMS...
  </p>
  <a href="http://headlesscms.org" target="_blank">
    headlesscms.org
  </a>
</Appear>

<Notes>
  <h2>Static site generator</h2>
  <p>Can be Javascript-based, but doesn't have to be</p>
  <p>
    Some use super modern tech like GraphQL, CSS in JS, etc, or you can rely on
    a more simplified framework
  </p>
  <hr />
  <h2>Headless CMS</h2>
  <p>CMS = Content Management System</p>
  <p>
    Open source options - you can submit PRs, community-driven, usually a little
    more scrappy
  </p>
  <p>
    Commercial options - many offer free tier but require payment for heavier
    usage, backed by $ and full-time team
  </p>
  <hr />
  <h2>Version control</h2>
  <p>Best practice to use Git nowadays for handling version control</p>
  <p>GitHub, GitLab, Bitbucket</p>
</Notes>

---

<Image
  src="https://cdn-images-1.medium.com/max/1280/1*TdRFV0LAG7TG3US2YJMALA.jpeg"
  size="90% auto"
/>

<Notes>
  <p>You can see how big the ecosystem really is</p>
  <p>
    Lots of tools to choose from, but you'll want some kind of presentation
    layer
  </p>
  <p>If you need dynamic data, you'll want to wire in an API of some kind</p>
  <p>Ideally you're using version control and storing your code in Git</p>
  <p>And hosting on Netlify</p>
</Notes>

---

export default LayoutGradientBg;

# Real world <span className="dark">JAM</span>stack

Portfolio site with a contact form

<ul>
  <li>
    <span className="dark">Static site generator:</span>{" "}
    <strong>
      <a href="https://www.gatsbyjs.org/" target="_blank">
        Gatsby
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Version control:</span>{" "}
    <strong>
      <a
        href="https://github.com/lesliecdubs/netlify-gatsby-form-example"
        target="_blank"
      >
        GitHub
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Host + deploy management:</span>{" "}
    <strong>
      <a href="https://www.netlify.com/" target="_blank">
        Netlify
      </a>
    </strong>
  </li>
</ul>

<Notes>
  <p>
    A traditional form would require a server to store entries in a database
  </p>
  <p>But the JAMstack offers a better and easier way</p>
  <p>First, let's dive briefly into what Gatsby and Netlify are</p>
</Notes>

---

export default Layout;

# Why Gatsby?

A ‚Äústatic site generator‚Äù based on React

<ul>
  <Appear>
    <li>üõ† Build your site in React</li>
    <li>üìÇ GraphQL data layer</li>
    <li>üîå Rich plugin ecosystem</li>
    <li>üìñ Good documentation + starters</li>
    <li>‚ö°Ô∏è Emphasis on performance + accessibility</li>
  </Appear>
</ul>

<Notes>
  <p>
    I chose Gatsby for this demo bc I work in React every day, but we
    could have used any static site generator for this example
  </p>
  <p>
    At build time, Gatsby creates an internal GraphQL server of all your data
    (wherever it may be stored - Markdown, JSON, a CMS, third party API, etc). All your data is queried at build time from your React components in a
    consistent way
  </p>
  <p>Gatsby ecosystem is rich; data source plugins provide for an easy connection to your CMS API</p>
  <p>Gatsby has clear documentation and starters</p>
  <p>Built with performance and accessibility in mind</p>
  <p>So, once we have this Gatsby site, what are we going to do with it?</p>
  <p>The JAMstack model would tell us we want to host it as a static site. That's where Netlify comes in...</p>
</Notes>

---

export default Layout;

# Why Netlify?

A ‚Äústatic site‚Äù hosting provider leveraging all the benefits of the JAMstack, plus:

<ul>
  <Appear>
    <li>‚úÖ Automated builds</li>
    <li>üòÖ Atomic deploys with one-click rollback</li>
    <li>üåê Custom domains</li>
    <li>üîí Automatic HTTPS</li>
    <li>‚öôÔ∏è Simple setup</li>
    <li>üÜì Free starter team</li>
  </Appear>
</ul>

<Notes>
  <h2>Automated builds</h2>
  <p>Automated builds with continous deployment from Git provider</p>
  <p>
    Hook a Netlify site up to a Git repo to get Deploy Previews + Branch Deploys
    to share work in progress URLs
  </p>
  <p>Configure Netlify to build + deploy every time you push or merge</p>
  <p>
    Set up webhooks to trigger deploy based on an action elsewhere (e.g.,
    content update in Contentful)
  </p>
  <hr />
  <h2>Atomic deploys</h2>
  <p>Atomic deploy = versioning your content by fingerprinting</p>
  <p>Instead of pushing individual files (FTP), Netlify creates new deploy</p>
  <p>
    Compares new deploy with your existing deploy and determines what files have
    changed
  </p>
  <p>
    Allows for one-click rollback - so you can make an older deploy live
    instantly
  </p>
  <hr />
  <h2>Custom domains</h2>
  <p>Sites come with their own customizable *.netlify.com URL</p>
  <p>Or buy a custom domain through Netlify or another domain provider</p>
  <p>Easily set it up to point to your Netlify site</p>
  <hr />
  <h2>Automatic HTTPs</h2>
  <p>Free HTTPS comes with all sites for security, SEO +content integrity</p>
  <hr />
  <p>Simple setup</p>
  <p>
    Free team, with flexible pricing tiers and add-ons if you need more team
    members, bandwidth, guaranteed support, etc
  </p>
</Notes>

---

export default LayoutGradientBg;

# Real world <span className="dark">JAM</span>stack

Portfolio site with a contact form

<ul>
  <li>
    <span className="dark">Static site generator:</span>{" "}
    <strong>
      <a href="https://www.gatsbyjs.org/" target="_blank">
        Gatsby
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Version control:</span>{" "}
    <strong>
      <a
        href="https://github.com/lesliecdubs/netlify-gatsby-form-example"
        target="_blank"
      >
        GitHub
      </a>
    </strong>
  </li>
  <li>
    <span className="dark">Host + deploy management:</span>{" "}
    <strong>
      <a href="https://www.netlify.com/" target="_blank">
        Netlify
      </a>
    </strong>
  </li>
</ul>

<Notes>
  <p>Quick review of what we're going to build</p>
  <p>
    Portfolio site built with Gatsby with a contact form that is managed by
    Netlify Forms
  </p>
</Notes>

---

<div style={{"line-height": "3"}}>
  <CodeSurfer
    theme={nightOwl}
    code={`
  npm install -g gatsby-cli
  gatsby new portfolio https://github.com/codebushi/gatsby-starter-forty
  cd portfolio
  gatsby develop
  `}
    dark={false}
    showNumbers={false}
    steps={[
      { lines: [2], notes: "Install Gatsby CLI globally if you don't already have it" },
      { lines: [3], notes: "Create a new site called portfolio" },
      { lines: [4], notes: "Change directories into the new site" },
      {
        lines: [5],
        notes: "Start dev server"
      }
    ]}
  />
</div>

<Notes>
  <p>
    Let's install the Gatsby command line tools and get a Gatsby site set up
  </p>
  <p>Once we have the site set up, we'll want to hook it up to a GitHub repo</p>
  <p>
    This will allow for continous deployment -> meaning when we push our code,
    the site will automatically build and deploy
  </p>
</Notes>

---

export default LayoutDark;

<div
  dangerouslySetInnerHTML={{
    __html: `
      <video
        style="max-width: 100%"
        controls
        muted
        src='./videos/gatsby-starter-forty.mov'
      />
    `,
  }}
/>

<Notes>
  <p>So what do those 4 commands give us?</p>
  <p>This is what this particular starter looks like</p>
  <p>We're going to focus in on this contact form so we can capture leads from people who visit our portfolio</p>
</Notes>

---

<div style={{"line-height": "3"}}>
  <CodeSurfer
    theme={nightOwl}
    code={`
  git init
  git add .
  git commit -m "First commit"
  git remote add origin remote REPOSITORY_URL_GOES_HERE
  git remote -v
  git push -u origin master
  `}
    dark={false}
    showNumbers={false}
    steps={[
      { lines: [2], notes: "Initialize this directory as a git repo" },
      { lines: [3], notes: "Add the files in the local repository and stage them for commit" },
      { lines: [4], notes: "Commit the tracked changes" },
      {
        lines: [5],
        notes: "Create a GitHub repo and copy the repo URL"
      },
      { lines: [6], notes: "Verify new remote URL" },
      { lines: [7], notes: "Push the master branch to your repo"}
    ]}
  />
</div>

<Notes>
  <p>Now we want to hook up the directory that holds our new Gatsby site up to GitHub</p>
  <p>Why? Well, version control is super helpful in managing the project</p>
  <p>But it will also allow us to set up continuous deployment with Netlify, so the site can rebuild every time you push code in git</p>
  <p>
    The last step is to deploy (or host) this site on the web so we can set up
    and test our form
  </p>
</Notes>

---

export default LayoutDark;

<div
  dangerouslySetInnerHTML={{
    __html: `
      <video
        style="max-width: 100%"
        controls
        muted
        src='./videos/deploy-with-netlify.mov'
      />
    `,
  }}
/>

<Notes>
  <p>Visit app.netlify.com and create an account or log in</p>
  <p>Click "New site from Git"</p>
  <p>Connect to GitHub</p>
  <p>Select the repo we just created</p>
  <p>Netlify guesses our build settings</p>
  <p>Deploy your site!</p>
</Notes>

---

<div style={{"line-height": "1.5"}}>
  <CodeSurfer
    theme={nightOwl}
    lang="html"
    code={`
      <form 
        method="post"
        name="contact"
        data-netlify="true"
        data-netlify-honeypot="bot-field"
      >
        <input type="hidden" name="contact" value="contact" />
        <div className="field half first">
          <label htmlFor="name">Name</label>
          <input type="text" name="name" id="name" />
        </div>
        ...
      </form>
    `}
    dark={false}
    showNumbers={false}
    steps={[
      { notes: "Open `Contact.js` in your favorite IDE" },
      { range: [2, 3], notes: "Find the <form> element" },
      { lines: [4], notes: "Add a name to differentiate this form" },
      { lines: [5], notes: "Hook this form up to Netlify" },
      {
        lines: [6],
        notes: "Let Netlify help filter spam without showing captcha to users"
      },
      {
        lines: [8],
        notes: "Add a hidden input field with the form name"
      }
    ]}
  />
</div>

<Notes>
  <p>If you‚Äôre using a static site generator like Gatsby or React-Static, or tools like react-snapshot that generate a static snapshot of your site, the build tool will generate the static HTML form automatically for you.</p>
  <p>That means we can add the Netlify attributes directly to our JSX form.</p>
  <p>Gatsby strips out input fields that are not included in the JSX form, so you will still need to add a hidden input field with the form name.</p>
</Notes>

---

export default Layout;

# Manage + notify

Submit an entry:<br/>
<a href="https://netlify-gatsby-form-example.netlify.com/" target="_blank">https://netlify-gatsby-form-example.netlify.com/</a>

<ul>
  <li>Visit the Forms dashboard to check entries</li>
  <li>
    Set up form notifications with Netlify or a {" "}
    <a
      href="https://zapier.com/app/editor/55819025/nodes/55819025/action"
      target="_blank"
    >
      Zapier integration
    </a>{" "}
  </li>
</ul>

<Notes>
  <p>
    Now we can go test our form on our Netlify site by visiting
    https://netlify-gatsby-form-example.netlify.com/
  </p>
  <p>Fill out the form if you want</p>
  <p>
    Now we can visit our Netlify dashboard, click Forms, and see and manage the
    entries
  </p>
  <p>Netlify is essentially acting as our database to hold the form entries</p>
  <p>
    To add even more functionality, we can set up email notifications for when a
    user submits your form
  </p>
</Notes>

---

export default LayoutDark;

<div
  dangerouslySetInnerHTML={{
    __html: `
      <video
        style="max-width: 100%"
        controls
        muted
        src='./videos/fill-out-form.mov'
      />
    `,
  }}
/>

<Notes>
  <p>Let's visit the site that we deployed on Netlify</p>
  <p>And now we're going to try filling out our form</p>
</Notes>

---

export default LayoutDark;

<div
  dangerouslySetInnerHTML={{
    __html: `
      <video
        style="max-width: 100%"
        controls
        muted
        src='./videos/check-form-submission.mov'
      />
    `,
  }}
/>

<Notes>
  <p>To make sure we captured the form entry, we can visit our Netlify dashboard</p>
  <p>Click into the site and then go to "Forms"</p>
  <p>We can see our entry!</p>
  <p>If this site had been live for a while, we could also check out any spam entries that Netlify filtered out for us</p>
</Notes>

---

export default LayoutDark;

<div
  dangerouslySetInnerHTML={{
    __html: `
      <video
        style="max-width: 100%"
        controls
        muted
        src='./videos/check-form-submission.mov'
      />
    `,
  }}
/>

<Notes>
  <p>To make sure we captured the form entry, we can visit our Netlify dashboard</p>
  <p>Click into the site and then go to "Forms"</p>
  <p>We can see our entry!</p>
  <p>If this site had been live for a while, we could also check out any spam entries that Netlify filtered out for us</p>
</Notes>

---

export default Layout;

# The <span className="highlight">JAM</span>stack difference

<ul>
  <Appear>
    <li>‚ö°Ô∏è Blazing fast performance</li>
    <li>ü§ë Cheaper + easier scaling</li>
    <li>üö® Fewer security risks</li>
    <li>üë©üèª‚Äçüíª Better developer experience</li>
    <li>‚ú® Give front end developers superpowers</li>
  </Appear>
</ul>

---

export default Layout;

# Want more <span className="highlight">JAM</span>?

<ul>
  <Appear>
    <li>üìï netlify.com/oreilly-jamstack</li>
    <li>üë©üèø‚Äçüç≥ jamstack.org</li>
    <li>‚ö°Ô∏è staticgen.com</li>
    <li>üíª JAMstack Conf</li>
    <li>üá≥üá¨ community.netlify.com</li>
    <li>üê¶ @lesliecdubs</li>
  </Appear>
</ul>

<Notes>
  <p>eBook available for free, "Modern Web Development on the JAMstack" - by Mathias Biilmann and Phil Hawksworth (thanks!)</p>
  <p>jamstack.org - best practices, examples, resources, links to community meetups (including Lagos!)</p>
  <p>staticgen.com - a list of SSGs for JAMstack sites, filterable by GitHub stars</p>
  <p>JAMstack Conf on YouTube - watch videos from past conferences on JAMstack topics</p>
  <p>community - join us if you have any questions about Netlify or want to see what other people are building</p>
  <p>@lesliecdubs - I Tweet about JAMstack + frontend</p>
  <p>Ask for Q&A</p>
</Notes>
